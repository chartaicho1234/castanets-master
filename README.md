# カスタネットマスター

BPM 180の高精度リズムトレーニングアプリ

## 🎯 概要

カスタネットマスターは、BPM 180固定で4分音符、8分音符、16分音符の正確なリズムをマスターするためのトレーニングアプリです。プロレベルの精度（±25ms以内）でタイミング判定を行い、詳細な分析機能であなたのリズム感を向上させます。

## ✨ 主な機能

### 🎵 3つの難易度レベル
- **4分音符**: 333.33ms間隔 - リズムの基礎
- **8分音符**: 166.67ms間隔 - 中級レベル
- **16分音符**: 83.33ms間隔 - 超高速チャレンジ

### 🎯 高精度判定システム
- パーフェクト: ±25ms以内 (100ポイント)
- グッド: ±50ms以内 (50ポイント)
- 早すぎ/遅すぎ: 偏差表示付きフィードバック

### ⚙️ キャリブレーション機能
- デバイス・オーディオ遅延の自動検出
- 8回のタップで精密な補正値を算出
- 環境に依存しない正確な判定を実現

### 📊 詳細分析機能
- リアルタイムタイミング可視化
- セグメント別パフォーマンス分析
- 統計情報（平均偏差、標準偏差など）
- 改善点の具体的なアドバイス

## 🚀 技術スタック

- **React Native** - クロスプラットフォーム開発
- **Expo** - 開発・デプロイメント環境
- **TypeScript** - 型安全性
- **Expo Router** - ナビゲーション
- **React Native Reanimated** - 高性能アニメーション
- **Expo AV** - オーディオ処理

## 📱 対応プラットフォーム

- **Web** - ブラウザで直接実行
- **iOS** - iPhone/iPad
- **Android** - スマートフォン/タブレット

## 🛠️ 開発・実行方法

### 前提条件
- Node.js 18以上
- npm または yarn

### セットアップ
```bash
# リポジトリをクローン
git clone https://github.com/your-username/castanets-master.git
cd castanets-master

# 依存関係をインストール
npm install

# 開発サーバーを起動
npm run dev
```

### 実行方法
- **Web**: ブラウザで `http://localhost:8081` にアクセス
- **モバイル**: Expo Go アプリでQRコードをスキャン

## 🎮 使い方

### 基本的な流れ
1. **キャリブレーション**: 初回起動時に必ず実行
2. **レベル選択**: 4分音符から始めることを推奨
3. **練習**: メトロノーム練習で基本リズムを習得
4. **ゲーム**: カウントダウン後に本格的なトレーニング
5. **分析**: 結果を確認して弱点を把握

### 操作方法
- **♪ボタン**: メトロノーム練習モード
- **再生ボタン**: ゲーム開始
- **リセットボタン**: ゲームリセット
- **レベルボタン**: 難易度変更
- **キャリブレートボタン**: タイミング補正

## 📈 上達のコツ

1. **必ずキャリブレーションを実行**
2. **4分音符から段階的にレベルアップ**
3. **メトロノーム練習で基本リズムを体得**
4. **分析結果を活用して弱点を改善**
5. **一定のリズムを保つことを最優先**
6. **疲れたら適度に休憩**

## 🔧 トラブルシューティング

### よくある問題
- **音が聞こえない**: デバイスの音量・ミュート設定を確認
- **判定がずれる**: キャリブレーションを再実行
- **動作が重い**: 他のアプリを終了
- **「遅すぎ」が多い**: キャリブレーション値を確認

## 📄 ライセンス

MIT License

## 🤝 コントリビューション

プルリクエストやイシューの報告を歓迎します。

## 📞 サポート

質問や不具合報告は [GitHub Issues](https://github.com/your-username/castanets-master/issues) までお願いします。

---

**BPM 180の世界で、あなたのリズム感を極限まで鍛え上げましょう！** 🎵